<div class="grid-100 row controls">
  <div class="grid-50">
    <h2>{{vm.routeId ? vm.data.name : vm.addNew}}</h2>
  </div>
  <div class="grid-50">
    <div class="flush-right">
      <button ng-click="vm.routeId ? vm.updateRecipe(vm.id, vm.dataObj) : vm.addRecipe(vm.dataObj)">Save Recipe</button>
      <button class="secondary" ng-click="vm.cancel()">Cancel</button>
    </div>
  </div>
</div>
<div class="clear"></div>

<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label>Name</label>
    </p>
  </div>
  <div class="grid-40">
    <p>
      <input type="text" ng-model="vm.dataObj.name">
    </p>
  </div>
</div>
<div class="clear"></div>

<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Description </label>
    </p>
  </div>
  <div class="grid-60">
    <p>
      <textarea ng-model="vm.dataObj.description"></textarea>
    </p>
  </div>
</div>
<div class="clear"></div>

<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Category </label>
    </p>
  </div>
  <div class="grid-30">
    <p>
      <!-- TODO Add directives to this select element to bind its value
        to the recipe model's `category` property and to populate the list
        with the categories from the database. -->
      <select ng-model="vm.dataObj.category">
        <option value='{{category.name}}' ng-repeat="category in vm.getCategories">{{category.name}}</option>
      </select>
    </p>
  </div>
</div>
<div class="clear"></div>

<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Prep Time </label>
    </p>
  </div>
  <div class="grid-20">
    <p>
      <input type="number" ng-model="vm.dataObj.prepTime">
    </p>
  </div>
</div>
<div class="clear"></div>

<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Cook Time </label>
    </p>
  </div>
  <div class="grid-20">
    <p>
      <input type="number" ng-model="vm.dataObj.cookTime">
    </p>
  </div>
</div>
<div class="clear"></div>

<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Ingredients </label>
    </p>
  </div>
  <div class="grid-30">
    <p class="label-spacing">
      <label> Item </label>
    </p>
  </div>
  <div class="grid-30">
    <p class="label-spacing">
      <label> Condition </label>
    </p>
  </div>
  <div class="grid-15">
    <p class="label-spacing">
      <label> Amount </label>
    </p>
  </div>

  <!-- TODO Add a directive to this div element so that it repeats
    for each recipe ingredient to display. -->
  <div class="ingredient-row" ng-repeat="ingredient in vm.dataObj.ingredients">
    <div class="prefix-20 grid-30">
      <p>
        <!-- TODO Add directives to this select element to bind its value
          to the recipe ingredient model's `foodItem` property and to
          populate the list with the food items from the database. -->
        <select ng-model="ingredient.foodItem">
          <option ng-repeat="item in vm.getFoodItems track by item.name" value="{{item.name}}">{{item.name}}</option>
        </select>
      </p>
    </div>
    <div class="grid-30">
      <p>
        <input type="text" ng-model="ingredient.condition">
      </p>
    </div>
    <div class="grid-15">
      <p>
        <input type="text" ng-model= "ingredient.amount">
      </p>
    </div>
    <div class="grid-5 pad-top">
      <p class="flush-right">
        <a class="no-action-link" ng-click="vm.deleteIngredient(vm.dataObj, $index)"> <img src="images/delete.svg" height="12px"> </a>
      </p>
    </div>
  </div>

  <div class="prefix-20 grid-80 add-row">
    <p>
      <button ng-click="vm.addIngredient(vm.dataObj)">+ Add Another Ingredient</button>
    </p>
  </div>

</div>
<div class="clear"></div>

<div class="grid-100 row">
  <div class="grid-20">
    <p class="label-spacing">
      <label> Steps </label>
    </p>
  </div>
  <div class="grid-75">
    <p class="label-spacing">
      <label> Description </label>
    </p>
  </div>

  <div class="step-row" ng-repeat="step in vm.dataObj.steps">
    <div class="prefix-20 grid-75">
      <p>
        <input type="text" ng-model="step.description">
      </p>
    </div>
    <div class="grid-5 pad-top">
      <p class="flush-right">
        <a class="no-action-link" ng-click="vm.deleteStep(vm.dataObj, $index)"> <img src="images/delete.svg" height="12px"> </a>
      </p>
    </div>
  </div>

  <div class="prefix-20 grid-80 add-row">
    <p>
     <button ng-click="vm.addStep(vm.dataObj)">+ Add Another Step</button>
    </p>
  </div>

</div>
<div class="clear"></div>
